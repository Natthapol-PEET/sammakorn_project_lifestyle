
# MQTT Broker
Username: user1@vms.com
Password: passwd-vms
clientId: guard-web-1, juristic-web-1, resident-<device id>

TOPIC [app -> web]
[*] INVITE_VISITOR		topic: app-to-web/INVITE_VISITOR
[*] RESIDENT_STAMP		topic: app-to-web/RESIDENT_STAMP
[*] RESIDENT_REQUEST_STAMP	topic: app-to-web/RESIDENT_REQUEST_STAMP
[*] RESIDENT_REQUEST_WHITELIST	topic: app-to-web/RESIDENT_REQUEST_WHITELIST
[*] RESIDENT_REQUEST_BLACKLIST	topic: app-to-web/RESIDENT_REQUEST_BLACKLIST

TOPIC [web -> app]
[*] COMING_WALK_IN		topic: web-to-app/COMING_WALK_IN
[*] CHECKOUT			topic: web-to-app/CHECKOUT
[*] ADMIN_OPERATION		topic: web-to-app/ADMIN_OPERATION
[*] ADMIN_ACCEPT_WHITELIST	topic: web-to-app/ADMIN_ACCEPT_WHITELIST
[*] ADMIN_ACCEPT_BLACKLIST	topic: web-to-app/ADMIN_ACCEPT_BLACKLIST


TOPIC [web -> web]
COMING_WALK_IN		ทุกครั้งที่มีรถ coming in and walk in
CHECKOUT		ทุกครั้งที่รถออกจากโครงการ
ADMIN_OPERATION		admin approve and disapprove [resident send stamp]
ADMIN_ACCEPT_WHITELIST	ทุกครั้งที่มีการ approve หรือ disapprove whitelist
ADMIN_ACCEPT_BLACKLIST	ทุกครั้งที่มีการ approve หรือ disapprove blacklist


TOPIC [app -> web]
[*] INVITE_VISITOR		
[*] RESIDENT_STAMP		update stamp visitor
[*] RESIDENT_REQUEST_STAMP	update requset stamp to admin
[*] RESIDENT_REQUEST_WHITELIST	update request whitelist to admin
[*] RESIDENT_REQUEST_BLACKLIST	update request blacklist to admin


TOPIC [app -> app]
[*] RESIDENT_STAMP		update stamp visitor
[*] RESIDENT_SEND_STAMP		update send stamp to admin
[*] RESIDENT_REQUEST_WHITEBLACK

TOPIC [web -> app]
[*] ALERT_MESSAGE		ทุกครั้งที่มีแจ้งเตือน fcm เข้ามา
[*] COMING_WALK_IN		ทุกครั้งที่มีรถ coming in and walk in
[*] ADMIN_OPERATION		admin approve and disapprove [resident send stamp]
[*] CHECKOUT			ทุกครั้งที่รถออกจากโครงการ
[*] ADMIN_OP_BLACKWHITE		ทุกครั้งที่มีการ approve หรือ disapprove blacklist whitelist


docker build -t fastapi-service .

docker run -it --rm -p 8080:8080 --name vms-service -d fastapi-service
docker run -p 8080:8080 fastapi-service


